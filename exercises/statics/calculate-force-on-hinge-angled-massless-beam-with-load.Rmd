```{r, echo = FALSE, results = "hide"}
angle <- sample(20:60, 1) # angle PQR in degrees
mass <- sample(10:99, 1) # weight of load hanging at point Q in kg

hinge_force <- mass * 9.8 / sin(angle * pi / 180)

sc <- num_to_schoice(hinge_force, range = c(0.1, 10) * hinge_force, format = FALSE)
sc$questions <- sprintf("$\\SI{%.0f}{\\N}$", signif(sc$questions, 3))

# use the same graphics type (pdf, svg, png) as the current xweave() call
typ <- match_exams_device()

## tikz beam graphic
qx <- 3 / tan(angle * pi / 180)
beam <- c("\\begin{tikzpicture}",
    "\\coordinate (P) at (0, 3);",
    sprintf("\\coordinate (Q) at (%f,3);", qx),
    "\\coordinate (R) at (0,0);",
    sprintf("\\pic[draw, \"$\\ang{%d}$\"scale=0.8, angle eccentricity = %f, 
            angle radius=%fcm] {angle={P--Q--R}};", 
            angle, -.1/40 * (angle - 20) + 0.8, -1.2/40 * (angle - 20) + 2.2),
    "\\pic[draw, angle radius=3mm] {right angle = {Q--P--R}};",
    "\\fill[yellow!33] (0,3.5) rectangle (-.4,-1);",
    "\\draw (0,3.5) -- (0,-1);",
    "\\draw (P) node[above right] {$P$} -- (Q);",
    "\\draw (Q) node[above right] {$Q$} -- ++(0,-2.6);",
    sprintf("\\draw[fill=gray!33] (Q)+(-.5,-2) rectangle +(.5,-2.7) node[midway, scale=0.8] {$\\SI{%d}{\\kg}$};", mass),
    "\\draw[double, line cap=round, double distance=6pt] (R) -- (Q);",
    "\\draw[fill] (R) circle[radius=1pt] node[below right] {$R$};",
    "\\draw[fill] (Q) circle[radius=1pt];",
  "\\end{tikzpicture}")
```

Question
========
A uniform beam $QR$, $\SI{1.0}{\meter}$ long with negligible mass, is mounted by a hinge on a wall and held in position by a horizontal wire $PQ$ as shown in the figure. The beam supports a load of mass $\SI{`r mass`}{\kg}$ hanging vertically down from point $Q$. What is the magnitude of the force on the hinge at point $R$?

```{r, echo = FALSE, results = "asis"}
include_tikz(beam, name = "calculate-force-on-hinge-angled-beam", format = typ, library = c("angles", "quotes"), packages="siunitx")
```

```{r, echo = FALSE, results = "asis"}
answerlist(sc$questions, markup = "markdown")
```


Solution
========
Since the mass of the beam is negligible, only two forces apply a torque on the beam about the hinge point $R$: the tension in the horizontal wire, $T_{PQ}$, and the force from the hanging load, $mg$. 

To calculate the torque from these two forces, we need to calculate the component of the force that is perpendicular to the beam. For the horizontal wire, this means multiplying by $\sin(\ang{`r angle`})$ while for the vertical wire, this means multiplying by $\cos(\ang{`r angle`})$.

The net torque must be zero since the beam is in static equilibrium. Let $r$ be the length of the beam. Then, the equation for the net torque is:

$$\tau_{net} = r T_{PQ} \sin(\ang{`r angle`}) - rmg \cos(\ang{`r angle`}) = 0$$

The factors of $r$ cancel out (so the length of $\SI{2.0}{\meter}$ was not needed). Solving for $T_{PQ}$, we get

$$T_{PQ} = \frac{mg \cos(\theta)}{\sin(\theta)}$$
To keep the beam in static equilibrium, the net force must also be zero. This means that the force on the hinge must be equal to the sum of the forces applied by the tension in the wire and the hanging mass. Since the two forces are perpendicular, we can use the Pythagorean theorem to calculate the magnitude of their sum.

$$F_{hinge} = \sqrt{(mg)^2 + (mg)^2 \frac{\cos^2(\theta)}{\sin^2(\theta)}} = mg \sqrt{1 + \frac{\cos^2(\theta)}{\sin^2(\theta)}} = mg \sqrt{\frac{\sin^2(\theta)}{\sin^2(\theta)} + \frac{\cos^2(\theta)}{\sin^2(\theta)}}$$
Using the Pythagorean identity ($\sin^2\theta + \cos^2\theta = 1$), we can simplify further:
$$F_{hinge} = mg \sqrt{\frac{\sin^2(\theta) + \cos^2(\theta)}{\sin^2(\theta)}} = mg \sqrt{\frac{1}{\sin^2(\theta)}} = \frac{mg}{\sin(\theta)}$$
Plugging in the numbers from the problem, we get:
$$F_{hinge} = \frac{(\SI{`r mass`}{kg}) (\SI{9.8}{m/s^2})}{\sin(\ang{`r angle`})} = \SI{`r signif(hinge_force, 3)`}{N}$$

Meta-information
================
exname: calculate force on hinge angled massless beam with load
extype: schoice
exsolution: `r mchoice2string(sc$solutions)`
exshuffle: 4
