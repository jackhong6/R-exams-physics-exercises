```{r, echo = FALSE, results = "hide"}
options(scipen=999)
beam_mass <- sample(1:9, 1) # kg
box_mass <- sample(10:99, 1) # kg
d2 <- sample(1:5, 1) # distance of box from right support in metres
d1 <- d2 + sample(1:3, 1) # distance of box from left support in metres
s <- d1 + d2 # total length of beam in metres

F_right <- 9.8 * (beam_mass / 2 + d1 / s * box_mass)

sc <- num_to_schoice(F_right, range = c(0.1, 10) * F_right, delta = F_right/100, format = FALSE)
sc$questions <- sprintf("$\\SI{%g}{\\N}$", signif(sc$questions, 3))

# use the same graphics type (pdf, svg, png) as the current xweave() call
typ <- match_exams_device()

## tikz beam graphic
tikz <- c("\\begin{tikzpicture}",
  "\\draw[thick] (-0.2, 2) rectangle (0.2, 0);",
  sprintf("\\draw[thick] (%f, 2) rectangle (%f, 0);", s-0.2, s+0.2),
  sprintf("\\draw[thick] (-0.2, 2) rectangle node[midway, font=\\small]{\\SI{%d}{kg}} (%f, 2.4);", beam_mass, s+0.2),
  sprintf("\\draw[thick] (%f, 3.1) rectangle node[midway, font=\\small]{\\SI{%d}{kg}} (%f, 2.4);", d1-0.6, box_mass, d1+0.6),
  sprintf("\\draw[|<->|, thick] (0, 1.4) -- node[midway, above, font=\\small]{\\SI{%d}{m}} (%f, 1.4);", d1, d1),
  sprintf("\\draw[|<->|, thick] (0, 0.8) -- node[midway, above, font=\\small]{\\SI{%d}{m}} (%f, 0.8);", s, s),
  "\\end{tikzpicture}")
```

Question
========
A uniform \SI{`r beam_mass`}{kg} beam, \SI{`r s`}{m} long, supports a \SI{`r box_mass`}{kg} box. The beam is supported by two vertical columns and the centre of gravity of the box is \SI{`r d1`}{m} from the left column. Calculate the force on the right column.

\vspace*{0.5cm}

```{r, echo = FALSE, results = "asis"}
include_tikz(tikz, name = "beam", format = typ, packages="siunitx")
```

```{r, echo = FALSE, results = "asis"}
answerlist(sc$questions, markup = "markdown")
```


Solution
========
Let $m = \SI{`r beam_mass`}{kg}$, $M = \SI{`r box_mass`}{kg}$, $d_1 = \SI{`r d1`}{m}$, and $d_2 = \SI{`r s`}{m}$. Also, let $F_1$ be the force on the left support and $F_2$ be the force on the right support.

The equation for the net torque about the axis passing through the left end of the beam is

$$\tau_{net} = d_2 F_2 -\frac{d_2}{2} mg - d_1 Mg = 0$$
Solving for $F_2$:

$$F_2 = g \left(\frac{1}{2} m + \frac{d_1}{d_2} M\right) = (\SI{9.8}{N/kg}) \left(\frac{1}{2} (\SI{`r beam_mass`}{kg}) + \frac{\SI{`r d1`}{m}}{\SI{`r s`}{m}} (\SI{`r box_mass`}{kg}) \right) = \SI{`r signif(F_right, 3)`}{N}$$



Meta-information
================
exname: calculate force on right support
extype: schoice
exsolution: `r mchoice2string(sc$solutions)`
exshuffle: 4
