```{r, echo = FALSE, results = "hide"}
v1 <- sample(10:50, 1) # speed of first phase in km/h
d1 <- sample(10:50, 1) # distance of first phase in km

v2 <- sample(80:120, 1) # speed of second phase in km/h
d2 <- sample(100:300, 1) # distance of second phase in km

ans <- (d1 + d2)/(d1/v1 + d2/v2)
alts <- c((v1*d1 + v2*d2)/(d1 + d2))
sc <- num_to_schoice(ans, wrong = alts, delta = 0.5, range = c(v1, v2), format = FALSE)

sc$questions <- sapply(sc$questions, signif, 3)
sc$questions <- paste("$", gsub("^ +", "", formatC(sc$questions, digits=3, format="fg")), "\\text{ km/h}$", sep = "")
```

Question
========
A car travels $`r formatC(signif(d1, 3), digits=3, format="fg", flag="#")`$ km at $`r formatC(signif(v1, 3), digits=3, format="fg", flag="#")`$ km/h and $`r formatC(signif(d2, 3), digits=3, format="fg", flag="#")`$ km at $`r formatC(signif(v2, 3), digits=3, format="fg", flag="#")`$ km/h. What is the average speed for this trip?

```{r questionlist, echo = FALSE, results = "asis"}
answerlist(sc$questions, markup = "markdown")
```

Solution
========
The average speed is the total distance divided by the total time.

$$ v_{avg} = \frac{d_{total}}{t_{total}} = \frac{d_1 + d_2}{d_1/v_1 + d_2/v_2}$$

Meta-information
================
exname: calculate average speed given speeds and distances of two stages
extype: schoice
exsolution: `r mchoice2string(sc$solutions)`
exshuffle: 4
